import{_ as h,o as n,c as l,a as t,F as _,r as m,t as d}from"./index.f81c978b.js";const u={data(){return{titulo:"Catalogo",url:"http://150.136.93.126:8080/tiendaropa/api/productos",urlCarrito:"http://150.136.93.126:8080/tiendaropa/api/carrito/agregar/"+sessionStorage.getItem("correo"),productos:[],images:"http://150.136.93.126:8080/images/",correo:sessionStorage.getItem("correo"),token:sessionStorage.getItem("token")}},methods:{consultarProductos(){const r={method:"GET",headers:{"Content-Type":"application/json"}};fetch(this.url,r).then(async s=>{if(s.ok)this.productos=await s.json(),console.log(this.productos);else{const e=new Error(s.statusText);throw e.json=s.json(),console.log(e.message),e}})},agregarCarrito(r,s,e,g,c){const i={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+sessionStorage.getItem("token")},body:JSON.stringify({id:0,correo:this.correo,productos:[{id:r,descripcion:s,talla:e,precio:g,categoria:c}],estado:"Creado"})};fetch(this.urlCarrito,i).then(async o=>{if(console.log(o),console.log(o.status),console.log(sessionStorage.getItem("token")),o.ok){const a=await o.json();console.log(a)}else{const a=new Error(o.statusText);throw a.json=o.json(),console.log(a.message),a}})}},beforeMount(){this.consultarProductos()}},p={class:"container"},f={class:"row"},C={class:"col-xs-12 col-md-6 col-lg-3 my-3"},k={class:"card"},j=["src"],y={class:"card-body d-grid"},b={class:"card-title mb-0"},w={class:"mb-0"},x={class:"card-text"},S={class:"card-text"},T=["onClick"];function v(r,s,e,g,c,i){return n(),l("div",p,[t("div",f,[(n(!0),l(_,null,m(c.productos,o=>(n(),l("div",C,[t("div",k,[t("img",{src:c.images+o.id+".jpg",class:"card-img-top",alt:"..."},null,8,j),t("div",y,[t("h5",b,d(o.descripcion),1),t("ul",w,[t("li",x,"Talla"+d(" "+o.talla),1),t("li",S,"Precio: $ "+d(o.precio),1)]),t("button",{class:"btn btn-dark",onClick:a=>i.agregarCarrito(o.id,o.descripcion,o.talla,o.precio,o.categoria)},"COMPRAR",8,T)])])]))),256))])])}const P=h(u,[["render",v]]);export{P as default};
